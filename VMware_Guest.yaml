zabbix_export:
  version: '6.4'
  template_groups:
    - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
      name: Templates/Applications
  templates:
    - uuid: 7942fb93ae3b47cf9ca0ea4beb0675ce
      template: 'VMware Guest'
      name: 'VMware Guest'
      description: 'Generated by official Zabbix template tool "Templator" 2.0.0'
      vendor:
        name: Zabbix
        version: 6.4-0
      groups:
        - name: Templates/Applications
      items:
        - uuid: 7f7287f400c2442cb9d2a01f5784938d
          name: 'VMware: Red Alarms'
          type: DEPENDENT
          key: 'vmware.alarms.red[*]'
          delay: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$[?((@.overall_status == "red") && (!(@.name =~ "{$VMWARE.ALARMS.IGNORE}")) && (!(@.name =~ "{$VMWARE.ALARMS.DOWNGRADE}")) )]'
              error_handler: CUSTOM_VALUE
              error_handler_params: '[]'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: 'vmware.vm.alarms.get[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: ab896d5d67f044b990b381e556bde83d
              expression: 'last(/VMware Guest/vmware.alarms.red[*]) <> "[]"'
              name: 'VMware Guest Red Alarms'
              opdata: '{ITEM.LASTVALUE1}'
              priority: AVERAGE
              description: |
                VMware Guest has Red Alarms that are not ignored or downgraded.
                
                {ITEM.LASTVALUE1}
              dependencies:
                - name: 'VMware: VM has been restarted'
                  expression: 'last(/VMware Guest/vmware.vm.guest.osuptime[{$VMWARE.URL},{$VMWARE.VM.UUID}])<10m'
              tags:
                - tag: component
                  value: vmware-guest
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 3b97d31985af4432b98b325b7bec2220
          name: 'VMware: Yellow Alarms'
          type: DEPENDENT
          key: 'vmware.alarms.yellow[*]'
          delay: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$[?((!(@.name =~ "{$VMWARE.ALARMS.IGNORE}")) && ((@.overall_status == "yellow") || ((@.overall_status == "red") && (@.name =~ "{$VMWARE.ALARMS.DOWNGRADE}"))))]'
              error_handler: CUSTOM_VALUE
              error_handler_params: '[]'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: 'vmware.vm.alarms.get[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 3dc0e7c15342487899a7375727b85064
              expression: 'last(/VMware Guest/vmware.alarms.yellow[*]) <> "[]"'
              name: 'VMware Guest Yellow Alarms'
              opdata: 'Details: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: |
                VMware Guest has yellow alarms OR red alarms that we downgraded to yellow.
                
                {ITEM.LASTVALUE1}
              dependencies:
                - name: 'VMware: VM has been restarted'
                  expression: 'last(/VMware Guest/vmware.vm.guest.osuptime[{$VMWARE.URL},{$VMWARE.VM.UUID}])<10m'
                - name: 'VMware Guest Red Alarms'
                  expression: 'last(/VMware Guest/vmware.alarms.red[*]) <> "[]"'
              tags:
                - tag: component
                  value: vmware-guest
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 2b8785ba36b24a05b8cfa4e5037efeb1
          name: 'VMware: Alarms'
          type: SIMPLE
          key: 'vmware.vm.alarms.get[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          trends: '0'
          value_type: TEXT
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'JSON of any alarms for the VMware guest'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 7d
          tags:
            - tag: component
              value: raw
            - tag: component
              value: system
        - uuid: 061eed2d40d5427092b50172ea0a9c41
          name: 'VMware: Cluster name'
          type: SIMPLE
          key: 'vmware.vm.cluster.name[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Cluster name of the guest VM.'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: cluster
        - uuid: 31389342688f4b0696a49431923a528f
          name: 'VMware: CPU latency in percents'
          type: SIMPLE
          key: 'vmware.vm.cpu.latency[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Percentage of time the virtual machine is unable to run because it is contending for access to the physical CPU(s).'
          tags:
            - tag: component
              value: cpu
        - uuid: bbfb146e74144160b2e47c0f2cdc6c20
          name: 'VMware: Number of virtual CPUs'
          type: SIMPLE
          key: 'vmware.vm.cpu.num[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          delay: 1h
          history: 7d
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Number of virtual CPUs assigned to the guest.'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: cpu
        - uuid: f4d72109b7ee4e0bb65aab1de85b6b05
          name: 'VMware: CPU readiness latency in percents'
          type: SIMPLE
          key: 'vmware.vm.cpu.readiness[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Percentage of time that the virtual machine was ready, but could not get scheduled to run on the physical CPU.'
          tags:
            - tag: component
              value: cpu
        - uuid: ff0a31df94784cfbbf10deca55f76145
          name: 'VMware: CPU ready'
          type: SIMPLE
          key: 'vmware.vm.cpu.ready[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: ms
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Time that the virtual machine was ready, but could not get scheduled to run on the physical CPU during last measurement interval (VMware vCenter/ESXi Server performance counter sampling interval - 20 seconds)'
          tags:
            - tag: component
              value: cpu
        - uuid: 50de05f27f33425cb207a3fdece7ecb1
          name: 'VMware: CPU swap-in latency in percents'
          type: SIMPLE
          key: 'vmware.vm.cpu.swapwait[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: '%'
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Percentage of CPU time spent waiting for swap-in.'
          tags:
            - tag: component
              value: cpu
        - uuid: 50606be978814b51b4bae54340965cdc
          name: 'VMware: CPU usage in percents'
          type: SIMPLE
          key: 'vmware.vm.cpu.usage.perf[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'CPU usage as a percentage during the interval.'
          tags:
            - tag: component
              value: cpu
        - uuid: ea416ff054cc4031ac6b5cf446156540
          name: 'VMware: CPU usage'
          type: SIMPLE
          key: 'vmware.vm.cpu.usage[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: Hz
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Current upper-bound on CPU usage. The upper-bound is based on the host the virtual machine is current running on, as well as limits configured on the virtual machine itself or any parent resource pool. Valid while the virtual machine is running.'
          tags:
            - tag: component
              value: cpu
        - uuid: 3e70b5d443b942db974b5f92a7acce19
          name: 'VMware: Datacenter name'
          type: SIMPLE
          key: 'vmware.vm.datacenter.name[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Datacenter name of the guest VM.'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: datacenter
        - uuid: e645130999db470fbbf14a8055c95b23
          name: 'VMware: Guest memory swapped'
          type: SIMPLE
          key: 'vmware.vm.guest.memory.size.swapped[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Amount of guest physical memory that is swapped out to the swap space.'
          tags:
            - tag: component
              value: memory
        - uuid: 521a0396514845e3bc5d3dc54ec3d940
          name: 'VMware: Uptime of guest OS'
          type: SIMPLE
          key: 'vmware.vm.guest.osuptime[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: uptime
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Total time elapsed since the last operating system boot-up (in seconds).'
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: da703e83e2e146569c173fd9bc6988dd
              expression: 'last(/VMware Guest/vmware.vm.guest.osuptime[{$VMWARE.URL},{$VMWARE.VM.UUID}])<10m'
              name: 'VMware: VM has been restarted'
              event_name: 'VMware: VM has been restarted (uptime < 10m)'
              priority: INFO
              description: 'Uptime is less than 10 minutes.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: fedec469a1d040ae971e0013102e1e7c
          name: 'VMware: Hypervisor name'
          type: SIMPLE
          key: 'vmware.vm.hv.name[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Hypervisor name of the guest VM.'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: hypervisor
        - uuid: fbe7477fd85a4ee39a9226b2c6995446
          name: 'VMware: Ballooned memory'
          type: SIMPLE
          key: 'vmware.vm.memory.size.ballooned[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'The amount of guest physical memory that is currently reclaimed through the balloon driver.'
          tags:
            - tag: component
              value: memory
        - uuid: 9e7b9360e4d84e9397b5f0a7ab074726
          name: 'VMware: Compressed memory'
          type: SIMPLE
          key: 'vmware.vm.memory.size.compressed[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'The amount of memory currently in the compression cache for this VM.'
          tags:
            - tag: component
              value: memory
        - uuid: 04a40f805fed4ddfa1590274a996a019
          name: 'VMware: Host memory consumed'
          type: SIMPLE
          key: 'vmware.vm.memory.size.consumed[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Amount of host physical memory consumed for backing up guest physical memory pages.'
          tags:
            - tag: component
              value: memory
        - uuid: 6563409185804ed89b49dfde92edfa10
          name: 'VMware: Private memory'
          type: SIMPLE
          key: 'vmware.vm.memory.size.private[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Amount of memory backed by host memory and not being shared.'
          tags:
            - tag: component
              value: memory
        - uuid: c6a539ee57bf48f78342358c391c65ea
          name: 'VMware: Shared memory'
          type: SIMPLE
          key: 'vmware.vm.memory.size.shared[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'The amount of guest physical memory shared through transparent page sharing.'
          tags:
            - tag: component
              value: memory
        - uuid: b064f0e0a53f4f6588827100becb4335
          name: 'VMware: Swapped memory'
          type: SIMPLE
          key: 'vmware.vm.memory.size.swapped[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'The amount of guest physical memory swapped out to the VM''s swap device by ESX.'
          tags:
            - tag: component
              value: memory
        - uuid: e960399726a240de9ecc12eff65415ae
          name: 'VMware: Guest memory usage'
          type: SIMPLE
          key: 'vmware.vm.memory.size.usage.guest[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'The amount of guest physical memory that is being used by the VM.'
          tags:
            - tag: component
              value: memory
        - uuid: 6fcbe4e95fce445aa417b9738004391f
          name: 'VMware: Host memory usage'
          type: SIMPLE
          key: 'vmware.vm.memory.size.usage.host[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'The amount of host physical memory allocated to the VM, accounting for saving from memory sharing with other VMs.'
          tags:
            - tag: component
              value: memory
        - uuid: 9533bc39366443fe8a3808190801441a
          name: 'VMware: Memory size'
          type: SIMPLE
          key: 'vmware.vm.memory.size[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          delay: 1h
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Total size of configured memory.'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: memory
        - uuid: e82daa73e03e43b9838d9e414d710e38
          name: 'VMware: Host memory usage in percents'
          type: SIMPLE
          key: 'vmware.vm.memory.usage[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Percentage of host physical memory that has been consumed.'
          tags:
            - tag: component
              value: memory
        - uuid: 0943ff346c9d4cc69fc773843066c473
          name: 'VMware: Power state'
          type: SIMPLE
          key: 'vmware.vm.powerstate[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'The current power state of the virtual machine.'
          valuemap:
            name: 'VMware VirtualMachinePowerState'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          tags:
            - tag: component
              value: power
        - uuid: 13173517c99e4a87aa6750392d14b255
          name: 'VMware: Committed storage space'
          type: SIMPLE
          key: 'vmware.vm.storage.committed[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Total storage space, in bytes, committed to this virtual machine across all datastores.'
          tags:
            - tag: component
              value: storage
        - uuid: 8183cf2c54774d7eb544f645d5c26b8c
          name: 'VMware: Uncommitted storage space'
          type: SIMPLE
          key: 'vmware.vm.storage.uncommitted[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Additional storage space, in bytes, potentially used by this virtual machine on all datastores.'
          tags:
            - tag: component
              value: storage
        - uuid: 35aa9ee1743e4c1787c426da20f48097
          name: 'VMware: Unshared storage space'
          type: SIMPLE
          key: 'vmware.vm.storage.unshared[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: B
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Total storage space, in bytes, occupied by the virtual machine across all datastores, that is not shared with any other virtual machine.'
          tags:
            - tag: component
              value: storage
        - uuid: 4c3b010d7ea74da6b0dc1dd4e625bbb0
          name: 'VMware: Uptime'
          type: SIMPLE
          key: 'vmware.vm.uptime[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          history: 7d
          units: uptime
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'System uptime.'
          tags:
            - tag: component
              value: system
      discovery_rules:
        - uuid: 914634668bab4266bd641ee224dbc1e4
          name: 'Network device discovery'
          type: SIMPLE
          key: 'vmware.vm.net.if.discovery[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          delay: 1h
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Discovery of all network devices.'
          item_prototypes:
            - uuid: 1a7452a0061b45b1b1904e3ff64cf49f
              name: 'VMware: Number of bytes received on interface {#IFDESC}'
              type: SIMPLE
              key: 'vmware.vm.net.if.in[{$VMWARE.URL},{$VMWARE.VM.UUID},{#IFNAME},bps]'
              history: 7d
              units: Bps
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine network interface input statistics (bytes per second).'
              tags:
                - tag: component
                  value: interface
                - tag: interface
                  value: '{#IFDESC}'
            - uuid: 863c3aee5d9248d48adbf86832fa6c8e
              name: 'VMware: Number of packets received on interface {#IFDESC}'
              type: SIMPLE
              key: 'vmware.vm.net.if.in[{$VMWARE.URL},{$VMWARE.VM.UUID},{#IFNAME},pps]'
              history: 7d
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine network interface input statistics (packets per second).'
              tags:
                - tag: component
                  value: interface
                - tag: interface
                  value: '{#IFDESC}'
            - uuid: 0993e42664a14cd7936351c55b1d64a4
              name: 'VMware: Number of bytes transmitted on interface {#IFDESC}'
              type: SIMPLE
              key: 'vmware.vm.net.if.out[{$VMWARE.URL},{$VMWARE.VM.UUID},{#IFNAME},bps]'
              history: 7d
              units: Bps
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine network interface output statistics (bytes per second).'
              tags:
                - tag: component
                  value: interface
                - tag: interface
                  value: '{#IFDESC}'
            - uuid: 144a2ed3f76e49af92462e0fea275ede
              name: 'VMware: Number of packets transmitted on interface {#IFDESC}'
              type: SIMPLE
              key: 'vmware.vm.net.if.out[{$VMWARE.URL},{$VMWARE.VM.UUID},{#IFNAME},pps]'
              history: 7d
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine network interface output statistics (packets per second).'
              tags:
                - tag: component
                  value: interface
                - tag: interface
                  value: '{#IFDESC}'
            - uuid: 9c3cd13576cc4c0a8972fa188f911e96
              name: 'VMware: Network utilization on interface {#IFDESC}'
              type: SIMPLE
              key: 'vmware.vm.net.if.usage[{$VMWARE.URL},{$VMWARE.VM.UUID},{#IFNAME}]'
              history: 7d
              units: Bps
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine network utilization (combined transmit-rates and receive-rates) during the interval.'
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1024'
              tags:
                - tag: component
                  value: interface
                - tag: interface
                  value: '{#IFDESC}'
        - uuid: b1543bdfb5a342d7ad694c87248fe173
          name: 'Disk device discovery'
          type: SIMPLE
          key: 'vmware.vm.vfs.dev.discovery[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          delay: 1h
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Discovery of all disk devices.'
          item_prototypes:
            - uuid: a4886b1072314819aaf21183949c94bb
              name: 'VMware: Average number of outstanding read requests to the disk {#DISKDESC}'
              type: SIMPLE
              key: 'vmware.vm.storage.readoio[{$VMWARE.URL},{$VMWARE.VM.UUID},{#DISKNAME}]'
              history: 7d
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'Average number of outstanding read requests to the virtual disk during the collection interval.'
              tags:
                - tag: component
                  value: disk
                - tag: disk
                  value: '{#DISKDESC}'
            - uuid: 172e4882d39f49d486ab5590163fdd4b
              name: 'VMware: Average read latency to the disk {#DISKDESC}'
              type: SIMPLE
              key: 'vmware.vm.storage.totalreadlatency[{$VMWARE.URL},{$VMWARE.VM.UUID},{#DISKNAME}]'
              history: 7d
              units: '!ms'
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'The average time a read from the virtual disk takes.'
              tags:
                - tag: component
                  value: disk
                - tag: disk
                  value: '{#DISKDESC}'
            - uuid: 4fe54828be084b15bb92507106756a5f
              name: 'VMware: Average write latency to the disk {#DISKDESC}'
              type: SIMPLE
              key: 'vmware.vm.storage.totalwritelatency[{$VMWARE.URL},{$VMWARE.VM.UUID},{#DISKNAME}]'
              history: 7d
              units: '!ms'
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'The average time a write to the virtual disk takes.'
              tags:
                - tag: component
                  value: disk
                - tag: disk
                  value: '{#DISKDESC}'
            - uuid: a74614af101c404eb7ebec10319dca05
              name: 'VMware: Average number of outstanding write requests to the disk {#DISKDESC}'
              type: SIMPLE
              key: 'vmware.vm.storage.writeoio[{$VMWARE.URL},{$VMWARE.VM.UUID},{#DISKNAME}]'
              history: 7d
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'Average number of outstanding write requests to the virtual disk during the collection interval.'
              tags:
                - tag: component
                  value: disk
                - tag: disk
                  value: '{#DISKDESC}'
            - uuid: bd151efc8a0b41e9b64cbf21303fc659
              name: 'VMware: Average number of bytes read from the disk {#DISKDESC}'
              type: SIMPLE
              key: 'vmware.vm.vfs.dev.read[{$VMWARE.URL},{$VMWARE.VM.UUID},{#DISKNAME},bps]'
              history: 7d
              units: Bps
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine disk device read statistics (bytes per second).'
              tags:
                - tag: component
                  value: disk
                - tag: disk
                  value: '{#DISKDESC}'
            - uuid: e6248013150d4f23a0774f6cc80e8df3
              name: 'VMware: Average number of reads from the disk {#DISKDESC}'
              type: SIMPLE
              key: 'vmware.vm.vfs.dev.read[{$VMWARE.URL},{$VMWARE.VM.UUID},{#DISKNAME},ops]'
              history: 7d
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine disk device read statistics (operations per second).'
              tags:
                - tag: component
                  value: disk
                - tag: disk
                  value: '{#DISKDESC}'
            - uuid: 7ea68380b855460b8e51281223659661
              name: 'VMware: Average number of bytes written to the disk {#DISKDESC}'
              type: SIMPLE
              key: 'vmware.vm.vfs.dev.write[{$VMWARE.URL},{$VMWARE.VM.UUID},{#DISKNAME},bps]'
              history: 7d
              units: Bps
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine disk device write statistics (bytes per second).'
              tags:
                - tag: component
                  value: disk
                - tag: disk
                  value: '{#DISKDESC}'
            - uuid: 8344a1066f5c4ef49894d2d18fac2339
              name: 'VMware: Average number of writes to the disk {#DISKDESC}'
              type: SIMPLE
              key: 'vmware.vm.vfs.dev.write[{$VMWARE.URL},{$VMWARE.VM.UUID},{#DISKNAME},ops]'
              history: 7d
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine disk device write statistics (operations per second).'
              tags:
                - tag: component
                  value: disk
                - tag: disk
                  value: '{#DISKDESC}'
        - uuid: 44ff9ef164dc4d20acf06b3368d64456
          name: 'Mounted filesystem discovery'
          type: SIMPLE
          key: 'vmware.vm.vfs.fs.discovery[{$VMWARE.URL},{$VMWARE.VM.UUID}]'
          delay: 1h
          username: '{$VMWARE.USERNAME}'
          password: '{$VMWARE.PASSWORD}'
          description: 'Discovery of all guest file systems.'
          item_prototypes:
            - uuid: 622e96310f9d4f54b4ed82f655fa153b
              name: 'VMware: Free disk space on {#FSNAME}'
              type: SIMPLE
              key: 'vmware.vm.vfs.fs.size[{$VMWARE.URL},{$VMWARE.VM.UUID},{#FSNAME},free]'
              history: 7d
              units: B
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine file system statistics (bytes).'
              tags:
                - tag: component
                  value: filesystem
                - tag: filesystem
                  value: '{#FSNAME}'
            - uuid: 3103537bb1d24633a064d173b3b530f2
              name: 'VMware: Free disk space on {#FSNAME} (percentage)'
              type: SIMPLE
              key: 'vmware.vm.vfs.fs.size[{$VMWARE.URL},{$VMWARE.VM.UUID},{#FSNAME},pfree]'
              history: 7d
              value_type: FLOAT
              units: '%'
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine file system statistics (percentages).'
              tags:
                - tag: component
                  value: filesystem
                - tag: filesystem
                  value: '{#FSNAME}'
            - uuid: 08d05eac03994b56867ec302a346735c
              name: 'VMware: Total disk space on {#FSNAME}'
              type: SIMPLE
              key: 'vmware.vm.vfs.fs.size[{$VMWARE.URL},{$VMWARE.VM.UUID},{#FSNAME},total]'
              delay: 1h
              history: 7d
              units: B
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine total disk space (bytes).'
              preprocessing:
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              tags:
                - tag: component
                  value: filesystem
                - tag: filesystem
                  value: '{#FSNAME}'
            - uuid: 09bb15da42464d8295d5e94b1d42cc87
              name: 'VMware: Used disk space on {#FSNAME}'
              type: SIMPLE
              key: 'vmware.vm.vfs.fs.size[{$VMWARE.URL},{$VMWARE.VM.UUID},{#FSNAME},used]'
              history: 7d
              units: B
              username: '{$VMWARE.USERNAME}'
              password: '{$VMWARE.PASSWORD}'
              description: 'VMware virtual machine used disk space (bytes).'
              tags:
                - tag: component
                  value: filesystem
                - tag: filesystem
                  value: '{#FSNAME}'
      tags:
        - tag: class
          value: software
        - tag: target
          value: vmware
        - tag: target
          value: vmware-guest
      macros:
        - macro: '{$VMWARE.ALARMS.DOWNGRADE}'
          value: '^Virtual Machine (memory|CPU) usage$'
          description: 'Regex of vcenter/vsphere/vmware Alarms to downgrade from red to yellow or from yellow to green. On the "name" field.'
        - macro: '{$VMWARE.ALARMS.IGNORE}'
          value: '<REGEX_OF_ALARMS_TO_IGNORE>'
          description: 'Regex of vcenter/vsphere/vmware Alarms to completely ignore. On the "name" field.'
        - macro: '{$VMWARE.PASSWORD}'
          type: VAULT
          value: 'soc-sysadm/monitoring/zabbix.noc/zabbix@vcenter.local:password'
          description: 'VMware service {$USERNAME} user password'
        - macro: '{$VMWARE.URL}'
          value: 'https://vcenter7.sr.sonic.net/sdk'
          description: 'VMware service (vCenter or ESX hypervisor) SDK URL (https://servername/sdk)'
        - macro: '{$VMWARE.USERNAME}'
          type: VAULT
          value: 'soc-sysadm/monitoring/zabbix.noc/zabbix@vcenter.local:username'
          description: 'VMware service user name'
      valuemaps:
        - uuid: 78f08f5c5c0047b999a2e8daa96cf8b7
          name: 'VMware VirtualMachinePowerState'
          mappings:
            - value: '0'
              newvalue: poweredOff
            - value: '1'
              newvalue: poweredOn
            - value: '2'
              newvalue: suspended

